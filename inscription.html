<!DOCTYPE html>
<html lang="fr">
<head>
  <base href="https://websim.tilde.cafe/fr/profil/#inscription%20fait%20la%20partie%20profile">
  <meta charset="utf-8">
  <title>EduSim - Inscription et Profil</title>
  <style>
    :root {
      --primary-color: #4a90e2;
      --secondary-color: #f5a623;
      --background-color: #f0f5f9;
      --text-color: #333;
    }

    body, html {
      font-family: 'Roboto', Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: var(--background-color);
      color: var(--text-color);
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }

    header {
      background-color: var(--primary-color);
      color: white;
      padding: 1rem;
      text-align: center;
    }

    h1, h2 {
      margin-bottom: 20px;
    }

    form {
      background-color: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .form-group {
      margin-bottom: 15px;
    }

    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }

    input[type="text"],
    input[type="email"],
    input[type="password"],
    select,
    textarea {
      width: 100%;
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
      box-sizing: border-box;
    }

    button {
      background-color: var(--primary-color);
      color: white;
      padding: 10px 15px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
    }

    button:hover {
      background-color: #3a7bd5;
    }

    .avatar-upload {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
    }

    .avatar-preview {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      overflow: hidden;
      margin-right: 15px;
    }

    .avatar-preview img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    #error-message {
      color: red;
      margin-top: 10px;
    }

    #success-message {
      color: green;
      margin-top: 10px;
    }
  </style>
</head>
<body>

  <div class="container">
    <h2>Créez votre profil</h2>
    <form id="profile-form">
      <div class="avatar-upload">
        <div class="avatar-preview">
          <img id="avatar-image" src="https://websim.tilde.cafe/fr/profil/default-avatar.png" alt="Avatar par défaut">
        </div>
        <div>
          <label for="avatar">Photo de profil :</label>
          <input type="file" id="avatar" name="avatar" accept="image/*">
        </div>
      </div>

      <div class="form-group">
        <label for="username">Nom d'utilisateur :</label>
        <input type="text" id="username" name="username" required>
      </div>

      <div class="form-group">
        <label for="email">Adresse e-mail :</label>
        <input type="email" id="email" name="email" required>
      </div>

      <div class="form-group">
        <label for="password">Mot de passe :</label>
        <input type="password" id="password" name="password" required>
      </div>

      <div class="form-group">
        <label for="confirm-password">Confirmez le mot de passe :</label>
        <input type="password" id="confirm-password" name="confirm-password" required>
      </div>

      <div class="form-group">
        <label for="level">Niveau scolaire :</label>
        <select id="level" name="level" required>
          <option value="">Sélectionnez votre niveau</option>
          <option value="6eme">6ème</option>
          <option value="5eme">5ème</option>
          <option value="4eme">4ème</option>
          <option value="3eme">3ème</option>
          <option value="2nde">2nde</option>
          <option value="1ere">1ère</option>
          <option value="terminale">Terminale</option>
        </select>
      </div>

      <div class="form-group">
        <label for="bio">Biographie :</label>
        <textarea id="bio" name="bio" rows="4"></textarea>
      </div>

      <div class="form-group">
        <label for="interests">Centres d'intérêt :</label>
        <input type="text" id="interests" name="interests" placeholder="Séparés par des virgules">
      </div>

      <button type="submit">Créer le profil</button>
    </form>
    <div class="form-group">
      <p>Déjà un compte ? <a href="./connexion.html">Se connecter</a></p>
    </div>

    <div id="error-message"></div>
    <div id="success-message"></div>
  </div>

  <script>
    const avatarInput = document.getElementById('avatar');
    const avatarImage = document.getElementById('avatar-image');
    const profileForm = document.getElementById('profile-form');
    const errorMessage = document.getElementById('error-message');
    const successMessage = document.getElementById('success-message');

    avatarInput.addEventListener('change', function(e) {
      const file = e.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          avatarImage.src = e.target.result;
        }
        reader.readAsDataURL(file);
      }
    });

    profileForm.addEventListener('submit', function(e) {
      e.preventDefault();
      errorMessage.textContent = '';
      successMessage.textContent = '';

      const password = document.getElementById('password').value;
      const confirmPassword = document.getElementById('confirm-password').value;

      if (password !== confirmPassword) {
        errorMessage.textContent = 'Les mots de passe ne correspondent pas.';
        return;
      }

      // Simulation de l'envoi des données au serveur
      setTimeout(() => {
        successMessage.textContent = 'Profil créé avec succès ! Redirection vers votre tableau de bord...';
        // Ici, vous redirigeriez normalement l'utilisateur vers son tableau de bord
        setTimeout(() => {
          alert('Redirection simulée vers le tableau de bord.');
        }, 2000);
      }, 1000);
    });
  </script>
</body>
</html>
